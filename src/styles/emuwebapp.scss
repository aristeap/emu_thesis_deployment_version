@import 'EMUwebAppDesign';
@import 'font';
@import 'mixins';
// @import 'material-design-icons/iconfont/material-icons';
// @use "@material/button/mdc-button";

/**
    ###################################
        emuwebapp directive css
    ###################################
*/

        
.emuwebapp * {
  text-rendering: optimizeLegibility;
  @extend .emuwebapp-font-small;
  *:not(input.field) { @include vendor-prefix(user-select, "text"); }
  @include vendor-prefix(touch-callout, "none");
}

.emuwebapp {
  left: 0;
  top: 0;
  width: 100%; min-width: 100%;
  height: 100%; min-height: 100%;
  position: absolute;
  background-color: $color-darkGrey;
  text-align: center;
  overflow: hidden;
  @include vendor-prefix(user-select, "none");
  @include vendor-prefix(touch-callout, "none");
  @extend .emuwebapp-font-small;

  > .emuwebapp-main {
    flex: 1;
    display: flex;
    position: absolute;
    width: 100%; height: 100%;

    > .emuwebapp-window {
      flex: 1;
      display: flex;
      flex-direction: column;

      position: relative;  /* NEW NEW NEW ??? */

      > .emuwebapp-top-menu {
        position: relative;
        height: 40px;
        background: $color-blue;
        @include vendor-prefix(touch-callout, none);
        text-align: left;
        z-index: 5;

        // reset floats and align icons
        #userProfileBtn,
        #aboutBtn {
          float: none !important;
          margin: 0 !important;
          position: absolute;
          top: 1px;
        }
        // EMU icon: 8px from right edge
        #aboutBtn { right: 8px; }
        // Profile icon: 51px from right (8px gap + 35px icon)
        #userProfileBtn { right: 51px; }

        .profile-dropdown {
          position: absolute;
          top: 100%;
          right: 0;
          background: #2a2a2a;
          border: 1px solid #1a1a1a;
          border-radius: 4px;
          margin-top: 4px;
          min-width: 140px;
          box-shadow: 0 2px 6px rgba(0,0,0,0.4);
          z-index: 10;
        }

        .profile-dropdown ul { list-style: none; margin: 0; padding: 0; }
        .profile-dropdown li + li { border-top: 1px solid #1a1a1a; }
        .profile-dropdown button {
          width: 100%;
          padding: 8px 12px;
          background: none;
          border: none;
          text-align: left;
          color: #fff;
          font-size: 14px;
          cursor: pointer;
        }
        .profile-dropdown button:hover {
          background: rgba(23, 186, 231, 0.83);
        }


        /* float the PDF button into the header */
        // .pdf-annotations {
        //   position: relative;  // establish a positioning context
        //   #showPdfTable {
        //     position: absolute;
        //     top: 4px;     /* match the 40px-tall bar */
        //     right: 160px; /* adjust to sit left of your profile icon */
        //     z-index: 10;
        //   }
        // }

        .pdf-annotations {
          position: relative;
          top: 650px;   /* distance from top edge */
          left: 600px;    /* distance from left edge */
          max-width: 40%; /* or whatever width you like */
          z-index: 5;    /* sit above the canvas */
        }

        .img-annotations{
          position: relative;
          top: 650px;   /* distance from top edge */
          left: 600px;    /* distance from left edge */
          max-width: 40%; /* or whatever width you like */
          z-index: 5;    /* sit above the canvas */
        }



      }

      > .emuwebapp-bottom-menu {
        width: 100%; height: 87px;
        background: $color-blue;
        @include vendor-prefix(touch-callout, none);
        text-align: left;
        padding-left: 5px;
        padding-bottom: 5px;
        z-index: 5;
      }

      > .emuwebapp-canvas {
        flex: 1;
        position: relative;
        z-index: 1;
        @include vendor-prefix(user-select, none);
      }
    }
  }

  .left {
    float: left;
    margin-right: 6px;
    margin-top: 4px;
  }

  .full { width: 100%; }

  table { border-collapse: collapse; }

  ul {
    margin: 0;
    padding: 0;
    width: 100%;
    list-style-type: none;
  }

  li {
    margin: 0;
    padding: 0;
    width: 100%;
  }

  button {
    border-spacing: 0;
    @extend .emuwebapp-font-small;
    line-height: 1.1em;
    margin: 0;
    padding: 0;
    text-align: center;
    text-decoration: none;
    cursor: pointer;
    overflow: hidden;
    white-space: normal;
  }

  .emuwebapp-dropdown-container {
    z-index: 99999 !important;
  }
  .emuwebapp-dropdown-container:hover #demoDB {
    background-color: $color-white;
    color: $color-black;
  }
  #emuwebapp-dropdown-arrow:after {
    content: '\25B8';
  }
  .emuwebapp-dropdown-container:hover #emuwebapp-dropdown-arrow:after {
    content: '\25BE';
  }

  .emuwebapp-dropdown-menu {
    background: $color-white;
    list-style: none;
    margin: 0;
    margin-left: -1px;
    padding: 0;
    border-left: 1px solid $color-blue;
    border-right: 1px solid $color-blue;
    border-bottom: 1px solid $color-blue;
    overflow: hidden;

    .divider {
      margin: 6px 0;
      border-top: 1px solid #ccc;
    }

    .divider-ling {
      margin: 8px 0;
      border-top: 2px solid #2b92bb;
    }

    li {
      @extend .emuwebapp-font-small;
      padding: 5px;
      margin: 0;
      max-width: 90px;
      overflow: hidden;
    }

    li:hover {
      color: $color-blue;
      cursor: pointer;
    }
  }

  a:link { color: $color-blue; }
  a:hover { color: $color-white; }
  a:visited { color: lightgray; }
}

// material icons stuff
@font-face {
  font-family: 'Material Icons';
  font-style: normal;
  font-weight: 400;
  src: url(../../node_modules/material-design-icons/iconfont/MaterialIcons-Regular.eot);
  src: local('Material Icons'),
       local('MaterialIcons-Regular'),
       url(../../node_modules/material-design-icons/iconfont/MaterialIcons-Regular.woff2) format('woff2'),
       url(../../node_modules/material-design-icons/iconfont/MaterialIcons-Regular.woff) format('woff'),
       url(../../node_modules/material-design-icons/iconfont/MaterialIcons-Regular.ttf) format('truetype');
}

.material-icons {
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  display: inline-block;
  line-height: 1;
  text-transform: none;
  letter-spacing: normal;
  word-wrap: normal;
  white-space: nowrap;
  direction: ltr;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: 'liga';
}

.linguistic-annotation-menu {
  overflow: visible !important;

  li {
    max-width: none !important;
    overflow: visible !important;
  }
}


.textLayer {
  position: absolute;
  top: 0;
  left: 0;
  overflow: hidden;
  line-height: 1;

  > span {
    position: absolute;
    white-space: pre;
    transform-origin: 0% 0%;
    color: transparent;
  }

  ::selection {
    background: highlight;
    color: highlighttext;
  }
}


.linguistic-dropdown-container {
    /* weâ€™ll position this relative to later */
    position: relative;
    display: inline-block;

  }

.linguistic-dropdown-container
  .emuwebapp-dropdown-menu.linguistic-annotation-menu {
  position: absolute;
  top: 100%;              /* right below the button */
  left: 0;                /* aligned to its left edge */
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  margin: 0;
  padding: 0;
  list-style: none;
  width: 500px;           /* or whatever fixed width you need */
  z-index: 9999;
  white-space: nowrap;
  overflow: visible;
}