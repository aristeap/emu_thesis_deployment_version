<div class="emuwebapp-modal-wrap" ng-controller="ChooseAdminsCtrl as vm">
    <div class="emuwebapp-modal-header-large emuwebapp-modal-header">
        <h3 id="modalHeading" style="margin: 0;">Choose admins for each database file (wav,pdf/jpeg,video)</h3>
    </div>
    <div class="emuwebapp-modal-body">

        <div class="forms-row" ng-repeat="asgn in vm.assignments track by $index">

            <!--the $first means only show the icon on the first row-->
            <!--now in the ng-model we use asgn.file and not vm.selectedFile cause we want to store each row's select in that rows asgn object instead of one shared vm.selectedFile (the same for admins) -->
            <i class="material-icons add-icon" ng-if="$first" ng-click="vm.addAssignment()">add</i> 

            <!-- Files dropdown -->
            <label for="fileSelect">Files</label>
            <select id="fileSelect"
                    ng-model="asgn.file"
                    ng-options="file as file.fileName for file in vm.files track by file._id"
                    class="chooseAdmins-input">
                <option value="" disabled>— select file —</option>
            </select>

            <!-- Admins dropdown -->
            <label for="adminSelect">Admins</label>
            <select id="adminSelect"
                    ng-model="asgn.admin"
                    ng-options="admin as admin.email for admin in vm.admins track by admin._id"
                    class="chooseAdmins-input">
                <option value="" disabled>— select admin —</option>
            </select>
        </div>


    </div>
    <div class="emuwebapp-modal-footer">
        <button ng-click="vm.cancel()" id="modalCancelBtn" class="emuwebapp-mini-btn">Cancel</button>
        <button ng-click="vm.Save()" class="emuwebapp-mini-btn">Save</button>
    </div>
  </div>
  
  